rules_version = '2';
// قواعد أمان Firestore — عجلة الولاء
// القراءة: مفتوحة (صفحة الضيف تحتاج قراءة الفئات والإيراد والإعدادات).
// الكتابة: مفتوحة من التطبيق — حماية الأدمن تتم من واجهة التطبيق (صفحة دخول بكود).
// للإنتاج القوي: فعّل Firebase Authentication وقيّد الكتابة بـ request.auth != null.

service cloud.firestore {
  match /databases/{database}/documents {

    match /members_silver/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /members_gold/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /members_platinum/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /revenue/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /config/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /new_members/{docId} {
      allow read: if true;
      allow write: if true;
    }
    match /spin_eligibility/{docId} {
      allow read, write: if true;
    }
    match /audit_log/{docId} {
      allow read, write: if true;
    }
  }
}
